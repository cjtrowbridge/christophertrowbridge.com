<!DOCTYPE html>
<html>
<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-49854332-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-49854332-1');
  </script>

  <title>Dashboard - CJ Trowbridge</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">

  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  
  <link rel="icon" type="image/jpg" href="/cj.jpg">
  <style>
     body{
      background-color: #F8F8F8;
      padding-top: 2rem;
    }
    progress{
      width: 100%;
      display: block;
    }
  </style>
</head>
<body>
  
<div class="container">
  <div class="row">
    <div class="col-12"><!--Begin Header-->
      <h1 style="white-space: nowrap;"><a href="https://www.facebook.com/djcj88" target="_blank"><img src="/cj.jpg" alt="CJ Trowbridge" style="height: 2rem;"></a> My Dashboard</h1>
      <p>Tracking important numbers in real time.</p>
    </div><!--End Header-->
  </div><!--/row-->
  <div class="row"><!--Begin Main Column-->
    
    
    <div class="card-columns">
      
        <div class="card">
          <div class="card-body">
            <h5 class="card-title">I'm Going To Die Someday</h5>
            <div class="card-text">
              <p>Inspired by many interviews Tim Ferris conducted, and the success of <a href="https://www.andreyazimov.com">Andrey Azimov</a> as highlighted by Pieter Levels, as well as the success of my friend <a href="https://twitter.com/buzznature" target="_blank">Hansa Bergwall</a>, I decided to add this countdown to the end of my life expectancy to remind me to make good use of my time.</p>
              <b>Remaining Life Expectancy</b>
              <div class="countdown" data-countdown="December 10, 2066 4:34:00"></div>
              <progress class="countdown" data-from="December 28, 1988 20:34:00" data-to="December 10, 2066 4:34:00"></progress>
            </div><!--End Card-text-->
          </div><!--End Card-body-->
        </div><!--End Card-->

        <div class="card">
          <div class="card-body">
            <h5 class="card-title">Burning Man</h5>
            <div class="card-text">
              <ul>
                <li>I arrive for build week in <span class="countdown-days" data-countdown="Aug 23, 2020"></span>!</li>
                <li>Gates open in              <span class="countdown-days" data-countdown="Aug 30, 2020"></span>!</li>
                <li>The man burns in           <span class="countdown-days" data-countdown="September 5, 2020"></span>!</li>
                <li>The temple burns in        <span class="countdown-days" data-countdown="Sep 6, 2020"></span>!</li>
              </ul>
            </div>
          </div>
        </div>

        <div class="card">
          <div class="card-body">
            <div class="card-text">
              <h4>Remaining Trello Tasks</h4>
              <table class="table">
                <thead>
                </thead>
                <tbody>
                  <tr>
                    <td>Today</td>
                    <td><span class="populateFromAPI todo" data-ideal="0" data-route="/api/?countTodo=today"></span></td>
                  </tr>
                  <tr>
                    <td>This Week</td>
                    <td><span class="populateFromAPI todo" data-ideal="0" data-route="/api/?countTodo=thisweek"></span></td>
                  </tr>
                  <tr>
                    <td>Next Week</td>
                    <td><span class="populateFromAPI todo" data-ideal="0" data-route="/api/?countTodo=nextweek"></span></td>
                  </tr>
                </tbody>
              </table>
              <style>
                .todo{
                  font-size: 2rem;
                  text-align: center;
                }
              </style>
              <a href="https://trello.com/b/L0z2c79k/to-do" class="btn btn-block btn-success" target="_blank">Go To Trello</a>
            </div><!--End Card-text-->
          </div><!--End Card-body-->
        </div><!--End Card-->

        <div class="card">
          <div class="card-body">
            <div class="card-text">
              <h4>Open Startup Challenge</h4>
              <p>As part of Pieter Levels' Open Startup Challenge, I have one year to reach my monthly recurring revenue (MRR) goal by building <a href="http://open-startup.com/" target="_blank">open startups</a>.</p>
              
              <p><b>Time Left:</b><progress id="TimeProgress" class="countdown" data-from="January 1, 2020 01:01:01" data-to="December 31, 2020 23:59:59"></progress></p>
              <p><b>MRR Progress:</b><progress id="mrrProgress" value="0" max="1000"></progress></p>
              
              <table class="table">
                <thead>
                  <tr>
                    <th>Goal</th>
                    <th>Progress</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>Revenue:</td>
                    <td>
                      $<span class="populateFromAPI" id="MRProgress" data-ideal="1000.00" data-route="/api/?getMR"></span> /
                      <span class="populateFromAPI" id="MRGoal" data-ideal="1000.00" data-route="/api/?getMRGoal"></span>
                      (<span id="MRRCompletion"></span>%)
                    </td>
                  </tr>
                  <tr>
                    <td>Time:</td>
                    <td><span id="TimeCompletion"></span>%</td>
                  </tr>
                </tbody>
              </table>
              
              <style>
                .MRRMetrics{
                  text-align: center;
                }
                .MRRCompletion{
                  font-weight: bold;
                }
              </style>
            </div><!--End Card-text-->
          </div><!--End Card-body-->
        </div><!--End Card-->
      
      
    </div><!--/card-columns-->


  </div><!--End Main Column-->
</div><!--End Container-->

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js" integrity="sha384-3ceskX3iaEnIogmQchP8opvBy3Mi7Ce34nWjpBIwVTHfGYWQS9jwHDVRnpKKHJg7" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script>
<script src="https://cjtrowbridge.com/projects/Countdown/countdown.js"></script>
  
<script>
  
  
  $(".populateFromAPI").each(function(){
    $(this).html('Fetching...');
    var parent = $(this);
    var route = $(this).data("route");
    console.log('Fetching Route: '+route);
    $.get(route, function(data){
      console.log('Returned: '+data);
      parent.html(''+data);
      parent.data('value',data);
      
      if(parent.data('ideal') !== null){
        if(parent.data('ideal')==data){
          parent.addClass('dataIdeal');
        }else{
          parent.addClass('dataNotIdeal');
        }
      }
      
      
      var TimeProgress   = $("progress#TimeProgress").data('value');
      var TimeGoal       = $("progress#TimeProgress").data('max');
      var TimeCompletion = (Math.round((TimeProgress / TimeGoal)*100,2)/100);
      console.log("Time: "+TimeProgress+"+"+TimeGoal+"="+TimeCompletion);
      
      var vMRRProgress   = $("#MRProgress").data('value');
      var vMRRGoal       = $("#MRGoal"    ).data('value');
      var vMRRCompletion = (Math.round((vMRRProgress / vMRRGoal)*100,2)/100);
      console.log("MRR: "+vMRRProgress+"+"+vMRRGoal+"="+vMRRCompletion);
      
      if(!(Number.isNaN(vMRRCompletion))){
        $("#MRRCompletion").text(vMRRCompletion);
      }
      
      if(!(Number.isNaN(TimeCompletion))){
        $("#TimeCompletion").text(TimeCompletion);
      }
      
    });
  });
  $.get( "/api/?getMR", function(data){
    $("progress#mrrProgress").attr('value', data );
  });
  
  
</script>
<style>
  .dataIdeal{
    color: limegreen;
  }
  .dataNotIdeal{
    color: orangered;
  }
</style>
  
</body>
</html>
