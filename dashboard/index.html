<!DOCTYPE html>
<html>
<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-49854332-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-49854332-1');
  </script>

  <title>Dashboard - CJ Trowbridge</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">

  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  
  <link rel="icon" type="image/jpg" href="/cj.jpg">
  <style>
     body{
      background-color: #F8F8F8;
      padding-top: 2rem;
    }
    progress{
      width: 100%;
      display: block;
    }
  </style>
</head>
<body>
  
<div class="container">
  <div class="row">
    <div class="col-12"><!--Begin Header-->
      <h1 style="white-space: nowrap;"><a href="https://www.facebook.com/djcj88" target="_blank"><img src="/cj.jpg" alt="CJ Trowbridge" style="height: 2rem;"></a> My Dashboard</h1>
      <p>Tracking important numbers in real time.</p>
    </div><!--End Header-->
  </div><!--/row-->
  <div class="row"><!--Begin Main Column-->
    
    <div class="col-md-6 col-12">
      <div class="card my-4">
        <div class="card-body">
          <h5 class="card-title">I'm Going To Die Someday</h5>
          <div class="card-text">
            <p>Inspired by many interviews Tim Ferris conducted, and the success of <a href="https://www.andreyazimov.com">Andrey Azimov</a> as highlighted by Pieter Levels, as well as the success of my friend <a href="https://twitter.com/buzznature" target="_blank">Hansa Bergwall</a>, I decided to add this countdown to the end of my life expectancy to remind me to make good use of my time.</p>
            <b>Remaining Life Expectancy</b>
            <div class="countdown" data-countdown="December 10, 2066 4:34:00"></div>
            <progress class="countdown" data-from="December 28, 1988 20:34:00" data-to="December 10, 2066 4:34:00"></progress>
          </div><!--End Card-text-->
        </div><!--End Card-body-->
      </div><!--End Card-->
    </div><!--col-md-6 col-12-->
    
    
    <div class="col-md-6 col-12">
      <div class="my-4 card">
        <div class="card-body">
          <div class="card-text">
            <h4>Remaining Tasks Today</h4>
            <div class="populateFromAPI todoToday" data-ideal="0" data-route="/api/?countTodo=today&withLink"></div>
            <style>
              .todoToday{
                font-size: 2rem;
                text-align: center;
              }
            </style>
          </div><!--End Card-text-->
        </div><!--End Card-body-->
      </div><!--End Card-->
    </div><!--End card container-->
    
    <div class="col-md-6 col-12">
      <div class="my-4 card">
        <div class="card-body">
          <div class="card-text">
            <h4>Monthly Revenue</h4>
            <div class="MR">
              <span class="populateFromAPI" data-ideal="1000.00" data-route="/api/?getMR"></span> /
              <span class="populateFromAPI" data-ideal="1000.00" data-route="/api/?getMRGoal"></span>
            </div>
            <style>
              div.MR{
                font-size: 2rem;
                text-align: center;
              }
            </style>
          </div><!--End Card-text-->
        </div><!--End Card-body-->
      </div><!--End Card-->
    </div><!--End card container-->

  </div><!--End Main Column-->
</div><!--End Container-->

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js" integrity="sha384-3ceskX3iaEnIogmQchP8opvBy3Mi7Ce34nWjpBIwVTHfGYWQS9jwHDVRnpKKHJg7" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script>
<script src="https://cjtrowbridge.com/projects/Countdown/countdown.js"></script>
  
<script>
  
  
  $(".populateFromAPI").each(function(){
    $(this).html('Fetching...');
    var parent = $(this);
    var route = $(this).data("route");
    console.log('Fetching Route: '+route);
    $.get(route, function(data){
      console.log('Returned: '+data);
      parent.html(''+data);
      parent.data('value',data);
      
      if(parent.data('ideal') !== null){
        if(parent.data('ideal')==data){
          parent.addClass('dataIdeal');
        }else{
          parent.addClass('dataNotIdeal');
        }
      }
    });
  });
  
  
</script>
<style>
  .dataIdeal{
    color: limegreen;
  }
  .dataNotIdeal{
    color: orangered;
  }
</style>
  
</body>
</html>
